import csv
import sys
import os

# Data to append/update
new_article = {
    "slug": "freelance-contract-types-difference-2026",
    "title": "【2026年最新】準委任契約と請負契約の違い｜フリーランスが損しない判断基準",
    "description": "【2026年最新版】フリーランスエンジニアが必ず知っておくべき準委任契約と請負契約の違いを、完成責任・報酬条件・契約リスクの観点から実務目線で解説。不利な契約を避ける判断基準とチェックポイントをまとめました。",
    "content": """![準委任契約と請負契約の違い](/images/articles/027.png)

## 結論：フリーランスの多くは準委任契約が基本。ただし「中身」を知らないと危険

ITフリーランスとして独立・案件参画する際、避けて通れないのが**「準委任契約」と「請負契約」**の理解です。
結論から言うと、**常駐・リモートを含む月額案件の大半は準委任契約**であり、安定性とリスク管理の面でフリーランス向きです。
ただし、**準委任のように見えて実態は請負**という契約も存在し、知らずに参画すると損害賠償や無償修正のリスクを負う可能性があります。

本記事では、法律用語に偏らず、**現場実務のリアリティ**に即して両者の違いと判断基準を解説します。

---

## 【図解】準委任契約と請負契約の決定的な違い

最大の違いは、**「何に対して報酬が支払われるか」**です。

### 一言で言うと「プロセスの対価」か「成果物の対価」か

*   **準委任契約**：業務を誠実に遂行すること自体が対価。**プロセス**が商品。
*   **請負契約**：成果物を完成・納品することが対価。**完成品**が商品。

### 比較表

| 項目 | 準委任契約（SESなど） | 請負契約（受託開発） |
| :--- | :--- | :--- |
| **報酬の対象** | 業務の遂行（技術提供） | 成果物の完成 |
| **完成責任** | なし | **あり** |
| **品質責任** | 善管注意義務 | 契約不適合責任 |
| **指揮命令** | なし（自律） | なし（結果重視） |
| **途中解除** | 契約条件次第で可 | 原則不可 |
| **主な案件** | 常駐/リモート開発、PMO | HP制作、単発開発 |

※直接の指揮命令がある場合は派遣契約に該当する可能性があります。

---

## フリーランスにとって準委任契約（SES）が主流な理由

### 安定収入と「善管注意義務」の現実

準委任には**完成責任がありません**。求められるのは、プロとして誠実に業務を行う善管注意義務です。
炎上や仕様変更があっても、適切に対応していれば**報酬は支払われる**のが実務の基本です。

### 仕様変更に強い

IT開発は変更が前提。準委任なら契約を巻き戻さず柔軟に対応できます。請負では追加交渉が頻発し、トラブルになりがちです。

---

## 高単価だがリスクも高い請負契約の実態

### 「完成責任」と「契約不適合責任」の重さ

請負は**完成しなければ報酬ゼロ**。納品後の不具合は**契約不適合責任**として無償修正や損害賠償の対象になり得ます。見積ミスはそのまま赤字です。

### 危険な請負の典型例

**仕様が曖昧なままの請負**は最悪です。「いい感じに」の解釈違いで無限修正に陥るケースが後を絶ちません。

---

## 契約トラブルを避けるチェックポイント3選

### 1. タイトルではなく条文を見る

「業務委託」でも**検収＝成果物**なら実質請負。**月額・精算幅**の記載があれば準委任寄りです。

### 2. 作業範囲と検収条件の明確化

成果物・検収・修正範囲は必ず明文化。曖昧さはリスクです。

### 3. 偽装請負の回避

始業時間の強制や細かな作業指示は要注意。フリーランスは事業者です。

> **FreelanceBoxへの登録・相談導線**
> 契約条件に不安がある場合は、エージェント相談が有効です。FreelanceBoxでは、**契約内容が明確で商流の浅い準委任案件**を中心に扱っています。

---

## 2026年現在の法改正トレンドとフリーランス保護

2024年施行のフリーランス新法により、取引条件の明示や不当な取引の是正が進みました。**契約書の明確化**は今後さらに重要になります。

---

## まとめ：自分に合った契約形態を選ぼう

*   **準委任**：安定重視、チーム開発、変更が多い現場向け
*   **請負**：仕様明確、短期高収益、完成まで責任を持てる人向け

技術力と同じくらい、**契約知識は身を守る武器**です。""",
    "category": "WorkStyle",
    "tags": "フリーランス,準委任契約,請負契約,SES,契約トラブル,完成責任,契約書チェック,フリーランス新法,トラブル回避",
    "faq": "Q:準委任契約でもバグを出したら損害賠償になりますか？|A:原則なりませんが、故意や重大な過失がある場合は善管注意義務違反として問われる可能性があります。;Q:請負契約を準委任に変更交渉できますか？|A:可能です。特に仕様未確定段階では、要件定義まで準委任にする提案が一般的です。;Q:準委任契約に残業代はありますか？|A:雇用の残業代とは異なりますが、精算幅超過分が支払われるケースが多いです。;Q:インボイス制度は契約形態に関係しますか？|A:関係します。準委任・請負に関わらず、課税/免税で請求方法が変わります。;Q:エージェント利用で不利な契約は避けられますか？|A:信頼できるエージェントなら、リスク条項の修正や排除が期待できます。",
    "thumbnail_url": "/images/articles/027.png",
    "status": "published",
    "published_at": "2026-01-26 10:00:00"
}

file_path = 'articles_data.csv'
header = ["slug", "title", "description", "content", "category", "tags", "faq", "thumbnail_url", "status", "published_at"]

# deduplicate and upsert
rows_by_slug = {}
order = []

try:
    if os.path.exists(file_path):
        with open(file_path, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            for row in reader:
                s = row.get('slug', '').strip()
                if s: 
                    # basic safety check to ignore malformed rows from before
                    if len(row) < 5: continue
                    
                    if s not in rows_by_slug:
                        order.append(s)
                    rows_by_slug[s] = row
    
    # Update or Append
    slug = new_article['slug']
    if slug not in rows_by_slug:
        order.append(slug)
    rows_by_slug[slug] = new_article

    # Write back
    with open(file_path, 'w', encoding='utf-8', newline='') as f:
        writer = csv.DictWriter(f, fieldnames=header)
        writer.writeheader()
        for s in order:
            writer.writerow(rows_by_slug[s])

    print("Article 27 updated/appended successfully and CSV deduplicated.")

except Exception as e:
    print(f"Error updating article: {e}")
    sys.exit(1)
