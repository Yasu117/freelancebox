import csv
import sys
import os

# Data to append/update
new_article = {
    "slug": "payment-terms-guide-freelance-cash-flow",
    "title": "【2026年最新】支払いサイト30日・60日の違いとは？フリーランス資金繰り完全ガイド",
    "description": "【2026年最新版】フリーランスの資金繰りを左右する支払いサイトの仕組みを徹底解説。30日・60日サイトの違い、初回入金までの期間、生活防衛資金の目安や契約前のチェックポイントを実務視点でまとめました。",
    "content": """![支払いサイト30日・60日の違いとは？](/images/articles/028.png)

## 結論：支払いサイトは単価と同じくらい重要。知らないと黒字倒産する

フリーランスとして独立する際、多くのエンジニアが**月額単価**ばかりに目を向けがちです。しかし、実務の現場では単価以上に重要なのが**「支払いサイト」**です。
結論から言うと、**支払いサイトを理解せずに独立すると、利益が出ているのに現金が尽きる「黒字倒産」状態に陥るリスクがあります。**

本記事では、これから独立するエンジニアや、エージェント選定中の方に向けて、支払いサイトの仕組みと実務上の注意点をわかりやすく解説します。

---

## 支払いサイト（Payment Terms）とは？定義と計算方法

### 支払いサイト＝「締め日から支払日までの期間」

支払いサイトとは、**請求の締め日から実際に入金されるまでの猶予期間**を指します。
SES・フリーランス業界でよく使われる条件は以下の通りです。

*   **30日サイト（標準）**：月末締め・翌月末払い
*   **45日サイト**：月末締め・翌々月15日払い
*   **60日サイト（遅い）**：月末締め・翌々月末払い

一般的な業界相場は**30日サイト**ですが、商流やエンド企業の規定によっては45日・60日になることもあります。

---

## 【シミュレーション】30日・45日・60日の入金タイミング比較

「1ヶ月違うだけ」と思われがちですが、独立直後には致命的な差になります。
**4月1日から稼働開始**した場合を例に比較してみましょう。

| サイト条件 | 稼働期間 | 締め日 | 入金日 | 稼働開始からの経過 |
| :--- | :--- | :--- | :--- | :--- |
| **30日サイト** | 4/1〜4/30 | 4/30 | 5/31 | **約60日** |
| **45日サイト** | 4/1〜4/30 | 4/30 | 6/15 | **約75日** |
| **60日サイト** | 4/1〜4/30 | 4/30 | 6/30 | **約90日** |

### 60日サイトの現実

60日サイトでは、**4・5・6月と3ヶ月間働き続け、6月末にようやく4月分が入金**されます。
この期間、家賃・保険料・食費などはすべて貯金からの持ち出しです。

---

## なぜ「60日サイト」が存在するのか？SES業界の裏側

### 商流とキャッシュフローの構造

SES業界では、以下のような商流が一般的です。

> **エンド企業 → 元請け → 2次請け → エージェント → フリーランス**

エンド企業の支払いが60日後の場合、エージェントが30日で支払うには**1ヶ月分を立て替える資金力**が必要になります。
資金力のあるエージェントは30日サイトを維持しますが、構造上どうしてもエンド条件に引きずられるケースもあります。

※60日サイト＝悪ではありません。単価が高い・大手案件などのメリットもあるため、**自分の資金体力とのバランス**が重要です。

---

## 資金繰りで死なないためのチェックリストと対策

### 1. 独立前に「生活費4ヶ月分」を確保する

30日サイトでも初回入金まで約2ヶ月。トラブルや体調不良を考慮し、**最低4ヶ月分の生活費**を現金で確保するのが安全圏です。

### 2. 契約書で「支払日」を必ず確認

口頭説明ではなく、**契約書・注文書の支払条件欄**を必ず確認しましょう。

*   「翌月末」→30日サイト
*   「翌々月末」→60日サイト

### 3. キャッシュフロー込みで案件を選ぶ

比較すべきは単価だけではありません。

*   支払いサイト（30日か60日か）
*   早期払い・ファクタリング対応の有無

---

## まとめ：単価＋キャッシュフローで案件を判断しよう

*   **30日サイト**＝翌月末払い、初回入金まで約2ヶ月
*   **60日サイト**＝翌々月末払い、初回入金まで約3ヶ月
*   **独立時は生活費4ヶ月分が安全ライン**

目先の単価が少し高くても、支払いサイトが長いと資金繰りリスクは跳ね上がります。
**報酬とキャッシュフローの両面から、総合的に案件を判断することが長期生存の鍵です。**

---

### FreelanceBoxへの登録・相談導線

FreelanceBoxでは、案件ごとの**支払いサイトや条件面を事前に明確化**し、直請け・高単価案件を中心にご紹介しています。
「条件面が不安」「資金繰りで失敗したくない」という方は、ぜひ一度ご相談ください。""",
    "category": "Agent",
    "tags": "支払いサイト,資金繰り,エージェント選び,SES業界の仕組み,独立準備,商流,フリーランスの税金・お金",
    "faq": "Q:支払いサイトを30日から短く交渉できますか？|A:原則は難しいですが、エージェントによっては相談可能な場合や早期入金サービスを利用できることがあります。;Q:入金が遅れた場合はどうすればいいですか？|A:すぐに契約先へ連絡し支払日を確定させてください。条件次第では遅延利息請求が可能です。;Q:個人事業主の源泉徴収はどうなりますか？|A:原則として請求額から10.21%が源泉徴収されて入金されます。;Q:60日サイトでも単価が高ければ受けるべきですか？|A:十分な貯蓄がある場合は選択肢になりますが、資金体力とのバランスが重要です。",
    "thumbnail_url": "/images/articles/028.png",
    "status": "published",
    "published_at": "2026-01-26 10:00:00"
}

file_path = 'articles_data.csv'
header = ["slug", "title", "description", "content", "category", "tags", "faq", "thumbnail_url", "status", "published_at"]

# deduplicate and upsert
rows_by_slug = {}
order = []

try:
    if os.path.exists(file_path):
        with open(file_path, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            for row in reader:
                s = row.get('slug', '').strip()
                if s: 
                    # basic safety check
                    if len(row) < 5: continue
                    
                    if s not in rows_by_slug:
                        order.append(s)
                    rows_by_slug[s] = row
    
    # Update or Append
    slug = new_article['slug']
    if slug not in rows_by_slug:
        order.append(slug)
    rows_by_slug[slug] = new_article

    # Write back
    with open(file_path, 'w', encoding='utf-8', newline='') as f:
        writer = csv.DictWriter(f, fieldnames=header)
        writer.writeheader()
        for s in order:
            writer.writerow(rows_by_slug[s])

    print("Article 28 updated/appended successfully and CSV deduplicated.")

except Exception as e:
    print(f"Error updating article: {e}")
    sys.exit(1)
