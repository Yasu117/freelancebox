import csv
import sys
import os

# Data to append/update
new_article = {
    "slug": "ses-waiting-period-risk",
    "title": "SESの待機期間はフリーランスにある？案件切れ＝無収入を防ぐ現実的な対策【2026年版】",
    "description": "正社員SESと違い、フリーランスには待機期間の給与保証がありません。案件切れ＝無収入となる理由と、終了1.5ヶ月前からの先行営業、複数エージェント活用、生活防衛資金3〜6ヶ月など現実的な対策を解説します。",
    "content": """![SESの待機期間はフリーランスにある？案件切れ対策](/images/articles/026.png)

## 結論：フリーランスに「待機保証」はない。安定は“仕組み”で作れる

正社員SESでは案件がない期間でも給与（または休業手当）が出るケースがあります。一方でフリーランスは雇用ではなく契約で働くため、**案件と案件の間は原則「収入ゼロ」**です。

ただし、これは脅しではなく構造の話です。**早めの更新確認・営業の前倒し・リスク分散・資金管理**を仕組み化すれば、案件切れは十分コントロールできます。

---

## 【定義】正社員SESとフリーランスの「待機」の決定的違い

### 比較表

| 項目 | 正社員SES | フリーランス（個人事業主） |
|---|---|---|
| **待機中の収入** | あり（基本給／休業手当など） | **なし（0円）** |
| **社会保険** | 会社負担ありで継続 | 全額自己負担（国保・国民年金等） |
| **待機中のやること** | 研修・自社業務・資格・社内待機など | 営業・スキルアップ・事務処理 |
| **次案件の主導** | 会社（営業担当） | 自分（＋エージェント） |
| **仕事の選択** | 原則限定的（命令が優先） | あり（ただし選り好みは無収入リスク） |

### 正社員SESの待機＝「会社都合の待機（給与あり）」
雇用契約のため、案件がなくても給与支払い義務が残ります（会社の制度や運用による差はあります）。

### フリーランスの待機＝「完全な失業（収入ゼロ）」
契約が切れた瞬間から報酬は発生しません。
**「来月から案件なし」＝「来月末の入金ゼロ」**になり得ます。

---

## 【原因】なぜ案件は途切れるのか？現場のリアル

### 1. 契約満了・プロジェクト終了（前向き・想定内）
リリースやフェーズ完了など、区切りが見えている終了。事前に読めるので対策しやすいです。

### 2. 予算縮小・体制変更（不可抗力）
内製化・予算カット・方針転換などで突然終了。フリーランスが一番巻き込まれやすいパターンです。

### 3. スキルアンマッチ・パフォーマンス不足（ネガティブ）
期待値のズレやコミュニケーション課題などで更新されないケース。単価に見合う成果を出せているかのセルフチェックが重要です。

---

## 【対策】空白期間を作らないための「4つの防衛策」

### 1. 契約更新確認は「終了1.5ヶ月前」に自分から動く
契約上は「1ヶ月前通知」が多いですが、1ヶ月前だと面談〜手続きで間に合わないことがあります。
**終了1.5〜2ヶ月前**に「来月以降どうなりそうですか？」と自分から状況確認を入れましょう。

### 2. 複数エージェント登録でリスク分散する
1社依存は危険です。最低2〜3社で母数を確保すると、案件切れ確率は下がります。

### 3. “妥協ライン”を事前に決めておく
条件を絞りすぎると無収入が長引きます。
例：
- 単価は一時的に-5万円まで許容
- 出社は週2まで許容
- 技術スタックは近接領域まで許容

### 4. 生活防衛資金は「最低3〜6ヶ月」
これがあるだけで、焦って炎上案件や商流が深い案件に飛びつくリスクを大幅に減らせます。

---

## 【実務】もし案件が切れてしまったら？

### 焦って「質の悪い案件」に飛びつくのが一番危険
空白を埋めるためだけに入ると、炎上・疲弊で次の営業ができず負のループになりがちです。

### 待機期間は「整える時間」にする
やることを決めておくと、待機が“投資”になります。
- スキルシート／職務経歴の更新
- ポートフォリオ整理
- 面談想定QAの用意
- 市場価値が上がる学習（クラウド・生成AI活用など）

---

## まとめ：安定は「会社」ではなく「準備」で作る

フリーランスに待機保証はありません。だからこそ、
- 早めの更新確認
- 営業の前倒し
- エージェント分散
- 防衛資金の確保

を仕組みにすれば、案件切れは過度に怖いものではなくなります。

もし「今のエージェントの動きが遅い」「次が決まるか不安」という状況なら、**FreelanceBox**で相談してみてください。途切れにくい提案導線を前提に、あなたの希望条件と市場を踏まえた選択肢を整理できます。""",
    "category": "Career",
    "tags": "SES,待機期間,案件切れ,フリーランスのリスク,契約終了,資金管理,エージェント活用,営業タイミング,生活防衛資金",
    "faq": "Q:フリーランスの案件が決まるまで、平均どのくらいかかりますか？|A:スキルや時期によりますが、営業開始から決定まで2週間〜1ヶ月程度が目安です。終了1.5ヶ月前から動くと空白を作りにくいです。;Q:待機期間中に失業保険はもらえますか？|A:原則もらえません。個人事業主は雇用保険の対象外のため、生活防衛資金や共済などで備えるのが基本です。;Q:エージェントを使えば待機期間はなくなりますか？|A:100%ではありませんが、終了時期に合わせた先行提案が出るため確率は大きく下がります。;Q:案件が切れやすい時期はありますか？|A:3月末・9月末は予算や体制の区切りで終了が出やすい傾向があります。4月・10月開始は案件が増えやすいです。;Q:待機期間中も経費は計上できますか？|A:事業に関連する支出（営業交通費、学習の書籍・講座等）は要件を満たせば経費計上できます。",
    "thumbnail_url": "/images/articles/026.png",
    "status": "published",
    "published_at": "2026-01-26 10:00:00"
}

file_path = 'articles_data.csv'
header = ["slug", "title", "description", "content", "category", "tags", "faq", "thumbnail_url", "status", "published_at"]

# deduplicate and upsert
rows_by_slug = {}
order = []

try:
    if os.path.exists(file_path):
        with open(file_path, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            for row in reader:
                s = row.get('slug', '')
                if s:
                    if s not in rows_by_slug:
                        order.append(s)
                    rows_by_slug[s] = row
    
    # Update or Append
    slug = new_article['slug']
    if slug not in rows_by_slug:
        order.append(slug)
    rows_by_slug[slug] = new_article

    # Write back
    with open(file_path, 'w', encoding='utf-8', newline='') as f:
        writer = csv.DictWriter(f, fieldnames=header)
        writer.writeheader()
        for s in order:
            writer.writerow(rows_by_slug[s])

    print("Article 26 updated/appended successfully and CSV deduplicated.")

except Exception as e:
    print(f"Error updating article: {e}")
    sys.exit(1)
